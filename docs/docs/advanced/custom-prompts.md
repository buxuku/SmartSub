---
sidebar_position: 2
title: 自定义翻译提示词
---

# 自定义翻译提示词

妙幕（SmartSub）支持自定义翻译提示词，让您能够精确控制基于大语言模型的翻译服务的输出效果。本章节将详细介绍如何创建和优化翻译提示词，以获得更准确、更自然的翻译结果。

## 什么是翻译提示词

翻译提示词（Prompt）是用于指导大语言模型执行翻译任务的指令文本。通过精心设计的提示词，您可以:

- 定义翻译的风格和语气
- 指定专业领域术语的处理方式
- 控制翻译的格式和结构
- 解决特定翻译场景的问题

在妙幕中，提示词应用于支持大语言模型的翻译服务，例如：

- OpenAI 风格 API（如 GPT 模型、DeepSeek、Azure OpenAI 等）
- Ollama 本地模型
- DeerAPI 聚合平台中的大语言模型服务

## 提示词设置界面

<div className="img-container">
  <img src="/img/screenshots/custom-prompts-interface.png" alt="自定义提示词界面" />
</div>

## 提示词变量系统

妙幕的提示词系统支持变量，使提示词能够根据实际翻译内容动态调整。可用的变量包括：

| 变量              | 说明             | 示例替换值                         |
| ----------------- | ---------------- | ---------------------------------- |
| `{{text}}`        | 要翻译的原始文本 | "Hello, welcome to this tutorial." |
| `{{source_lang}}` | 源语言名称       | "英语"、"日语"                     |
| `{{target_lang}}` | 目标语言名称     | "中文"、"法语"                     |

这些变量会在翻译执行时被实际值替换。例如，如果您的提示词为：

```
将以下{{source_lang}}文本翻译成{{target_lang}}：

{{text}}
```

在实际翻译英语到中文时，模型收到的提示词将变为：

```
将以下英语文本翻译成中文：

Hello, welcome to this tutorial.
```

## 基础提示词模板

以下是一些基础的提示词模板，您可以用作起点：

### 1. 标准翻译提示词

```
将以下{{source_lang}}文本翻译成{{target_lang}}，保持原文的语气和风格：

{{text}}
```

### 2. 字幕优化提示词

```
你是一位专业的视频字幕翻译专家。请将以下{{source_lang}}字幕翻译成{{target_lang}}，确保翻译简洁、自然且适合显示为字幕。保持原文的语气和风格，但可以适当调整以符合目标语言的表达习惯。字幕需要简明扼要，每行不宜过长。

{{text}}
```

### 3. 专业领域翻译提示词

```
作为一名专业的[领域]翻译专家，请将以下{{source_lang}}[领域]内容翻译成{{target_lang}}。请确保准确翻译所有专业术语，并保持文本的技术准确性：

{{text}}
```

_注：将[领域]替换为实际领域，如"医学"、"法律"、"技术"等_

## 提示词设计技巧

### 1. 清晰指定角色与任务

告诉模型它应该扮演什么角色，以及具体的任务是什么。例如：

```
你是一位经验丰富的电影字幕翻译专家，精通{{source_lang}}和{{target_lang}}之间的文化差异和语言表达。你的任务是将以下电影对白从{{source_lang}}翻译成{{target_lang}}，确保保留原始对白的情感、幽默感和文化内涵，同时使译文自然流畅，符合{{target_lang}}的表达习惯。

{{text}}
```

### 2. 提供具体指导

给出具体的翻译指导，而不是笼统的要求：

```
请将以下{{source_lang}}文本翻译成{{target_lang}}，注意：
1. 保持原文的专业术语准确性
2. 使用正式的语气和表达
3. 保留原文的段落结构
4. 遇到文化特定表达时，找到{{target_lang}}中的对等表达
5. 不要添加原文中不存在的解释或内容

{{text}}
```

### 3. 指定输出格式

明确说明您希望翻译结果的格式：

```
请将以下{{source_lang}}字幕翻译成{{target_lang}}。只输出翻译结果，不要添加任何解释、注释或原文。保持每行字幕的简洁性，适合阅读。

{{text}}
```

### 4. 风格与语气控制

指定翻译的风格和语气：

```
将以下{{source_lang}}内容翻译成{{target_lang}}，使用轻松、幽默的语气，适合年轻受众。可以适当使用流行语和网络用语，但不要过度使用导致失去原意。

{{text}}
```

## 专业领域提示词示例

### 技术文档翻译

```
你是一位专业的技术文档翻译专家，同时精通{{source_lang}}和{{target_lang}}的技术术语。请将以下技术文档从{{source_lang}}翻译成{{target_lang}}，遵循这些规则：
1. 保持所有专业术语的准确性，优先使用行业内通用的标准译法
2. 保持句子结构清晰，逻辑连贯
3. 使用正式、专业的语气
4. 保留原文的格式、标点和段落结构
5. 不要翻译代码块、变量名或命令

{{text}}
```

### 医学内容翻译

```
作为一名经验丰富的医学翻译专家，请将以下{{source_lang}}医学内容翻译成{{target_lang}}。请确保：
1. 准确翻译所有医学术语，使用目标语言中的标准医学术语
2. 保持专业和正式的语气
3. 保持内容的科学准确性
4. 对于药物名称，提供国际通用名
5. 保留原文的格式和结构

{{text}}
```

### 影视对白翻译

```
你是一位专业的影视字幕翻译师，请将以下{{source_lang}}影视对白翻译成{{target_lang}}。你需要：
1. 捕捉原对白的情感和语气
2. 保留幽默元素、双关语和文化参考（必要时进行适当的文化本地化）
3. 确保翻译简洁易读，适合字幕显示（每行不超过20个汉字或40个英文字符）
4. 对于无法直译的俚语或习语，找到目标语言中的对等表达
5. 保持对白的自然流畅，就像是目标语言的原创内容

{{text}}
```

## 高级提示技巧

### 两阶段翻译

对于复杂内容，可以设计两阶段翻译提示词：

```
请按照以下两个步骤将{{source_lang}}内容翻译成{{target_lang}}：

第一步：分析以下文本的关键信息、专业术语和潜在的翻译难点：
{{text}}

第二步：基于上述分析，提供准确、流畅的{{target_lang}}翻译，确保专业术语翻译准确，语言表达自然。只输出最终翻译结果。
```

### 特定风格模拟

要模拟特定的写作风格或语气：

```
请将以下{{source_lang}}文本翻译成{{target_lang}}，模拟[特定风格]的写作风格。翻译应当保持原文的核心意思，同时体现出[特定风格]的语言特点，如[描述该风格的特点]。

{{text}}
```

_注：将[特定风格]替换为实际风格，如"新闻报道"、"文学小说"、"技术博客"等_

### 处理特殊内容

#### 歌词翻译

```
你是一位专业的歌词翻译专家。请将以下{{source_lang}}歌词翻译成{{target_lang}}。你的翻译应：
1. 尽可能保留原歌词的韵律和节奏感
2. 捕捉原歌词的情感和主题
3. 在保持意义的同时，使译文在{{target_lang}}中也能押韵
4. 如有必要，可以适当调整表达方式，但不要改变原歌词的核心含义
5. 保持每行长度相近，适合歌唱

{{text}}
```

#### 诗歌翻译

```
作为一位精通{{source_lang}}和{{target_lang}}的诗歌翻译大师，请将以下诗歌从{{source_lang}}翻译成{{target_lang}}。请注意：
1. 捕捉原诗的意象、情感和韵律
2. 在可能的情况下保留诗歌的形式结构
3. 尊重原诗的语言风格和表达方式
4. 如果存在文化特定的隐喻或典故，找到{{target_lang}}中的对等表达或提供适当的转换
5. 创造既忠于原作又在目标语言中具有诗意美感的译文

{{text}}
```

## 提示词优化实例

以下是优化前后的提示词对比，展示了如何改进提示词以获得更好的翻译结果：

### 示例 1：普通翻译提示词优化

**优化前**:

```
翻译成{{target_lang}}
{{text}}
```

**优化后**:

```
请将以下{{source_lang}}文本准确翻译成自然、流畅的{{target_lang}}。保持原文的含义、风格和语气，同时确保翻译结果符合{{target_lang}}的语言习惯和表达方式。

{{text}}
```

### 示例 2：技术文档翻译提示词优化

**优化前**:

```
这是技术文档，翻译成{{target_lang}}
{{text}}
```

**优化后**:

```
你是一位精通{{source_lang}}和{{target_lang}}的技术文档专业翻译师。请将以下技术文档内容翻译成{{target_lang}}，需要遵循以下规则：

1. 保持所有技术术语的准确性，优先使用行业公认的标准术语译法
2. 对于没有确定译名的新技术术语，可以保留原文并在首次出现时提供适当翻译
3. 保持文档的格式、层级结构和专业性
4. 代码片段、变量名和命令不需要翻译
5. 确保译文清晰、准确、专业，适合技术人员阅读

{{text}}
```

## 提示词使用与保存

### 设置默认提示词

1. 在妙幕设置中，选择"翻译服务"选项卡
2. 找到支持自定义提示词的翻译服务（如 OpenAI 风格 API 或 Ollama）
3. 在对应服务的设置中，编辑"提示词模板"
4. 输入您设计的提示词，确保使用正确的变量格式
5. 点击"保存"按钮

<div className="img-container">
  <img src="/img/screenshots/save-custom-prompt.png" alt="保存自定义提示词" />
</div>

### 针对特定任务使用临时提示词

1. 在翻译任务设置界面，展开"高级选项"
2. 找到"自定义提示词"选项
3. 输入针对当前任务的特定提示词
4. 该提示词将仅用于当前翻译任务，不会覆盖默认设置

## 提示词效果测试与比较

要测试不同提示词的效果，可以：

1. 选择一小段典型内容作为测试样本
2. 使用不同的提示词进行翻译
3. 比较翻译结果的质量、风格和准确性
4. 根据比较结果调整提示词

**提示词效果比较示例**:

| 提示词类型 | 翻译结果特点                 | 适用场景                       |
| ---------- | ---------------------------- | ------------------------------ |
| 简单指令   | 基本准确，但风格可能不一致   | 简单内容，对风格要求不高       |
| 角色扮演   | 更符合特定领域风格，术语准确 | 专业内容，需要特定领域知识     |
| 详细指导   | 高度符合要求，风格一致       | 重要内容，需要精确控制翻译风格 |
| 两阶段翻译 | 处理复杂内容更准确，术语统一 | 长篇技术文档或专业内容         |

## 故障排除

### 常见问题与解决方法

1. **提示词过长导致模型忽略后半部分**：

   - 缩短提示词，保留最重要的指导
   - 将详细指导按重要性排序，重要指导放在前面

2. **翻译结果包含了提示词解释**：

   - 在提示词中明确指定"只输出翻译结果，不要包含任何解释或原文"
   - 检查提示词格式，确保模型能清晰区分指令和待翻译内容

3. **翻译风格不一致**：

   - 在提示词中明确指定一致的风格要求
   - 考虑使用角色扮演提示，如"作为一位一致使用[特定风格]的翻译专家"

4. **专业术语翻译不准确**：
   - 在提示词中强调术语准确性的重要性
   - 考虑提供关键术语的翻译对照表作为参考

## 结语

自定义翻译提示词是提高大语言模型翻译质量的强大工具。通过精心设计和优化提示词，您可以让翻译结果更加符合特定需求，无论是字幕翻译、技术文档还是创意内容。随着不断实践和调整，您将能够为不同类型的内容找到最佳的提示词方案。
