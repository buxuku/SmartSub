---
sidebar_position: 2
title: 字幕翻译
---

# 字幕翻译功能

妙幕（SmartSub）的另一个重要功能是字幕翻译，可以将已有的字幕文件翻译成多种语言。本章节将详细介绍字幕翻译功能的使用方法和相关设置。

## 字幕翻译界面

<div className="img-container">
  <img src="/img/screenshots/subtitle-translation.png" alt="字幕翻译界面" />
</div>

## 支持的翻译服务

妙幕集成了多种翻译服务，以满足不同用户的需求：

| 翻译服务            | 特点                           | 适用场景               |
| ------------------- | ------------------------------ | ---------------------- |
| **火山引擎翻译**    | 中文支持优秀，成本适中         | 中文相关翻译           |
| **百度翻译**        | 覆盖语种广，稳定性高           | 多语言翻译             |
| **微软翻译器**      | 翻译质量好，支持多种语言       | 正式场合文档翻译       |
| **DeepLX 翻译**     | 翻译自然流畅，适合欧洲语言     | 欧洲语言之间的翻译     |
| **Ollama 本地模型** | 完全本地，不需要联网           | 注重隐私或无网络环境   |
| **DeerAPI**         | 支持多种AI模型，可根据需求选择 | 需要高质量AI翻译       |
| **OpenAI 风格 API** | 支持多种兼容OpenAI API的服务   | 需要高质量、自然的翻译 |

关于各种翻译服务的详细配置方法，请参阅[翻译服务配置](../configuration/translation-services)章节。

## 翻译参数设置

### 基本参数

| 参数               | 描述                                 | 推荐设置                   |
| ------------------ | ------------------------------------ | -------------------------- |
| **翻译服务**       | 使用的翻译接口                       | 根据语言对和质量要求选择   |
| **目标语言**       | 要翻译成的语言                       | 根据需求选择               |
| **字幕内容设置**   | 可设置是单语言还是双语言的字幕       | 根据对字幕要求选择         |
| **字幕文件名设置** | 翻译之后的字幕文件保存时的文件名设置 | 避免与源字幕文件名冲突     |
| **翻译重试次数**   | 如果翻译失败，自动重试重新翻译       | 根据需要设置为 0 或者 3 等 |

## 翻译模式详解

妙幕支持以下两种翻译模式：

### 1. 仅翻译模式

在这种模式下，输出的字幕文件只包含翻译后的文本，原始文本将被替换。

示例（英文翻译为中文）：

```
# 原始字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.

# 翻译后字幕
1
00:00:01,000 --> 00:00:05,000
你好，欢迎观看本教程。
```

这种模式适合以下场景：

- 观众只需要阅读翻译语言
- 视频已有原语言的音频，只需要提供翻译字幕

### 2. 原文+翻译模式

在这种模式下，输出的字幕文件同时包含原始文本和翻译文本，通常翻译文本在原文下方。

示例（英文翻译为中文）：

```
# 原始字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.

# 翻译后字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.
你好，欢迎观看本教程。
```

这种模式适合以下场景：

- 语言学习
- 双语观众
- 需要对照原文检查翻译质量

## 提高翻译质量的技巧

要获得更好的翻译结果，请考虑以下建议：

1. **选择合适的翻译服务**：

   - 对于欧洲语言之间的翻译，DeepL(X) 通常效果最好
   - 对于中文相关翻译，火山引擎和百度翻译效果较好
   - 对于专业术语或特定领域，OpenAI 风格 API 可以通过提示词调整，获得更好效果

2. **使用AI翻译时的提示词技巧**：

   - 在设置中指定翻译的上下文（如"电影对白"、"技术文档"等）
   - 指定专业领域（如"医学"、"法律"、"计算机科学"等）
   - 指定翻译风格（如"正式"、"口语化"等）

3. **分段优化**：

   - 过长的句子可能导致翻译质量下降
   - 确保字幕分段合理，避免一个语义单元被分到不同的字幕行

4. **后处理**：
   - 对于重要内容，可以导出翻译结果后手动校对
   - 使用"原文+翻译"模式可以方便对照检查翻译质量

## 语言代码参考

在设置源语言和目标语言时，以下是常用的语言代码：

| 语言     | 代码       |
| -------- | ---------- |
| 简体中文 | zh / zh-CN |
| 繁体中文 | zh-TW      |
| 英语     | en         |
| 日语     | ja         |
| 韩语     | ko         |
| 法语     | fr         |
| 德语     | de         |
| 西班牙语 | es         |
| 俄语     | ru         |
| 葡萄牙语 | pt         |
| 意大利语 | it         |

:::info 注意
不同的翻译服务可能使用稍微不同的语言代码，妙幕会自动进行适当的转换。
:::

## 故障排除

如果在翻译过程中遇到问题，可以尝试以下解决方法：

1. **翻译请求失败**：

   - 检查网络连接
   - 验证API密钥是否正确
   - 检查是否超出API使用限制
   - 减少并行请求数量
   - 使用本地模型（如Ollama）作为备用方案

2. **翻译结果不理想**：

   - 尝试其他翻译服务
   - 调整AI模型的提示词
   - 对于OpenAI风格API，尝试更强大的模型
   - 确保正确指定了源语言和目标语言

3. **处理速度过慢**：

   - 增加并行请求数（在API限制允许的情况下）
   - 增加单条请求字数限制
   - 使用响应更快的翻译服务

4. **字幕格式问题**：
   - 确认输入的字幕文件格式正确
   - 尝试使用其他格式的字幕文件
   - 检查输出字幕文件在播放器中的兼容性
