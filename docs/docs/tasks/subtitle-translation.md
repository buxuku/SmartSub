---
sidebar_position: 2
title: 字幕翻译
---

# 字幕翻译任务

本章节详细介绍如何使用妙幕（SmartSub）翻译已有的字幕文件。无论是您自己生成的字幕，还是从其他来源获取的字幕，都可以通过妙幕轻松翻译成多种语言。

## 任务界面

<div className="img-container">
  <img src="/img/screenshots/subtitle-translation-task.png" alt="字幕翻译任务界面" />
</div>

## 基本操作流程

### 1. 准备工作

在开始字幕翻译任务前，请确保：

- 已经[下载并安装](../intro/installation)妙幕软件
- 已经[配置了至少一种翻译服务](../configuration/translation-services)
- 准备好了要翻译的字幕文件

### 2. 添加字幕文件

有多种方式可以添加字幕文件：

- **点击选择文件**：点击界面中的"选择文件"按钮，然后在文件浏览器中选择要翻译的字幕文件
- **拖放文件**：直接将字幕文件从资源管理器拖放到妙幕的文件区域
- **从剪贴板粘贴**：复制文件路径后，在妙幕界面上按 Ctrl+V 粘贴

### 3. 配置翻译参数

添加文件后，设置以下参数：

#### 基本参数

| 参数         | 说明                 | 推荐设置                           |
| ------------ | -------------------- | ---------------------------------- |
| **源语言**   | 原始字幕的语言       | 选择字幕的实际语言                 |
| **目标语言** | 要翻译成的语言       | 根据需求选择目标语言               |
| **翻译服务** | 要使用的翻译服务     | 根据语言对和质量需求选择合适的服务 |
| **翻译模式** | 输出内容的组织方式   | "仅翻译"或"原文+翻译"              |
| **输出格式** | 翻译后字幕的文件格式 | 通常与输入格式相同                 |

#### 高级参数（可选）

点击"高级选项"展开更多设置：

| 参数                 | 说明                     | 推荐设置                         |
| -------------------- | ------------------------ | -------------------------------- |
| **文件名模板**       | 输出文件的命名规则       | 默认 `{filename}.{lang}.{ext}`   |
| **并行请求数**       | 同时发送的翻译请求数量   | 3-5个（根据翻译服务限制调整）    |
| **请求间隔(ms)**     | 相邻请求之间的时间间隔   | 200-500毫秒                      |
| **单条请求字数限制** | 单次翻译请求的最大字符数 | 800-2000字符（根据翻译服务限制） |

### 4. 开始任务

配置完参数后，点击"开始任务"按钮。软件会显示处理进度：

1. **解析字幕**：读取并解析字幕文件
2. **分割文本**：将字幕文本分割成适合翻译的片段
3. **翻译内容**：通过选定的翻译服务翻译文本
4. **重组字幕**：将翻译结果重新组合成字幕格式
5. **保存结果**：将翻译后的字幕保存到指定位置

### 5. 查看结果

任务完成后：

- 界面上会显示"任务完成"状态
- 右侧会显示翻译后的字幕预览
- 可以点击"打开文件位置"查看生成的字幕文件
- 可以点击"预览"直接查看翻译结果

## 支持的字幕格式

妙幕支持翻译以下格式的字幕文件：

- **SRT** (.srt) - 最常用的字幕格式
- **WebVTT** (.vtt) - 网页视频字幕格式
- **LRC** (.lrc) - 歌词格式
- **ASS/SSA** (.ass/.ssa) - 高级字幕格式，支持样式
- **JSON** (.json) - 妙幕导出的JSON格式字幕
- **TXT** (.txt) - 纯文本格式（仅包含文本内容，无时间戳）

## 翻译模式详解

妙幕提供两种翻译模式，适合不同的使用场景：

### 仅翻译模式

在这种模式下，输出的字幕文件只包含翻译后的文本，原始文本将被替换。

**示例（英文翻译为中文）**：

```
# 原始字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.

# 翻译后字幕
1
00:00:01,000 --> 00:00:05,000
你好，欢迎观看本教程。
```

**适用场景**：

- 观众只需要阅读翻译语言的字幕
- 视频已有原语言的音频，只需要提供翻译字幕

### 原文+翻译模式

在这种模式下，输出的字幕文件同时包含原始文本和翻译文本，通常翻译文本在原文下方。

**示例（英文翻译为中文）**：

```
# 原始字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.

# 翻译后字幕
1
00:00:01,000 --> 00:00:05,000
Hello, welcome to this tutorial.
你好，欢迎观看本教程。
```

**适用场景**：

- 语言学习
- 双语观众
- 需要对照原文检查翻译质量

## 批量翻译

妙幕支持批量翻译多个字幕文件，提高工作效率：

1. 添加多个字幕文件（使用多选或多次添加）
2. 设置统一的翻译参数（所有文件将使用相同设置）
3. 点击"开始任务"按钮
4. 软件会按照队列依次处理所有文件

<div className="img-container">
  <img src="/img/screenshots/batch-subtitle-translation.png" alt="批量字幕翻译" />
</div>

## 实用技巧

### 选择合适的翻译服务

不同翻译服务在不同语言对上有各自的优势：

- **中文相关翻译**：火山引擎、百度翻译效果较好
- **欧洲语言互译**：DeepLX 通常效果最佳
- **特殊领域翻译**：OpenAI 风格 API 配合适当提示词可获得最佳效果
- **离线环境**：Ollama 本地模型提供完全离线的翻译能力

### 优化翻译质量

1. **使用 AI 翻译时的提示词技巧**：

   - 在设置中指定翻译的上下文（如"电影对白"、"技术文档"等）
   - 指定专业领域（如"医学"、"法律"等）
   - 指定翻译风格（如"正式"、"口语化"等）

2. **批处理优化**：

   - 合理设置并行请求数，避免被 API 限流
   - 对于 DeepLX，建议将并行请求数设置为 1，避免被限流
   - 对于其他服务，根据 API 限制适当调整并行请求数和请求间隔

3. **分段优化**：
   - 调整"单条请求字数限制"，避免翻译请求过大
   - 较短的片段通常能获得更好的翻译质量

### 字幕后处理

对于重要内容，翻译完成后可能需要进一步优化：

1. **人工校对**：对关键内容进行人工审核和调整
2. **格式修正**：检查并修正可能的格式问题，如行长度等
3. **样式调整**：对于 ASS/SSA 格式，可以进一步调整字幕样式

## 特殊场景处理

### 专业内容翻译

对于专业领域的内容（如技术文档、医学讲座等）：

1. 使用 OpenAI 风格 API 或 DeerAPI 等强大的 AI 翻译服务
2. 自定义提示词，指明专业领域和术语要求
3. 使用"原文+翻译"模式，方便对照和校对

### 多语言字幕

如果需要将一个字幕翻译成多种语言：

1. 创建多个翻译任务，每个任务设置不同的目标语言
2. 使用相同的源语言和翻译服务，确保一致性
3. 考虑使用专门的文件命名模板，例如 `{filename}.{target_lang}.{ext}`

### 字幕合并

有时您可能需要将两种语言的字幕合并为双语字幕：

1. 首先确保两个字幕文件的时间戳一致
2. 使用"原文+翻译"模式进行翻译
3. 或者使用专门的字幕编辑软件进行合并

## 故障排除

### 常见问题

1. **翻译请求失败**：

   - 检查网络连接
   - 验证 API 密钥是否正确
   - 检查服务账户余额
   - 确认是否达到 API 请求限制

2. **翻译结果格式错乱**：

   - 检查字幕文件格式是否正确
   - 尝试使用不同的翻译模式
   - 对于复杂格式（如 ASS），考虑先转换为 SRT 再翻译

3. **API 限流**：

   - 减少并行请求数
   - 增加请求间隔
   - 暂时切换到其他翻译服务
   - 特别注意 DeepLX 容易被限流

4. **翻译质量不佳**：
   - 尝试其他翻译服务
   - 检查是否正确指定了源语言和目标语言
   - 对于 AI 翻译，调整提示词和模型选择

### 错误提示解释

| 错误提示       | 可能原因               | 解决方法                     |
| -------------- | ---------------------- | ---------------------------- |
| "API 密钥无效" | 密钥错误或已过期       | 检查并更新 API 密钥          |
| "请求超时"     | 网络问题或服务器响应慢 | 检查网络连接，减少并行请求数 |
| "服务不可用"   | 翻译服务暂时不可用     | 尝试其他翻译服务             |
| "字幕格式错误" | 输入的字幕文件格式有误 | 检查字幕文件是否完整和有效   |

## 下一步

成功翻译字幕后，您可以：

- 在视频播放器中测试字幕效果
- 将字幕嵌入到视频中永久保存
- 使用专业字幕编辑软件进一步调整翻译结果
